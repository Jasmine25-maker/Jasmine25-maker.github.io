
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="manifest" href="manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>å¥³æ‰®ç”·è£…æ··å…¥ç”·å¯ Â· å‰3ç« é¢„è§ˆ</title>
  <style>
    body { font-family: "å¾®è½¯é›…é»‘", sans-serif; padding: 20px; background: #f7f9fc; }
    .status { background: #fff; padding: 10px; border-radius: 8px; margin-bottom: 10px; box-shadow: 0 0 3px rgba(0,0,0,0.1); }
    .status span { margin-right: 10px; }
    .story { margin: 20px 0; }
    .option { background: #e3f2fd; margin: 10px 0; padding: 10px; border-radius: 6px; cursor: pointer; }
    .option:hover { background: #bbdefb; }
  </style>
</head>
<body>
  <h2>ã€Šå¥³æ‰®ç”·è£…æ··å…¥ç”·å¯ã€‹ Â· å‰§æƒ…é¢„è§ˆï¼ˆå‰3ç« ï¼‰</h2>
  <div class="status">
    â¤ï¸ å¿ƒæƒ…: <span id="mood">80</span> ï½œ ğŸ’ª å‹‡æ°”: <span id="courage">60</span>ï½œ
    ğŸ’– ç™½æ™¯: <span id="bj">0</span> ï½œ ğŸ”¥ é¡¾åŒ—è¾°: <span id="gbc">0</span> ï½œ ğŸ¨ æ²ˆå¢¨: <span id="sm">0</span>
  </div>

  <div class="story" id="story">ä½ æ‹–ç€è¡Œæç®±ç«™åœ¨åœ£ç½—å…°è´µæ—å­¦é™¢é—¨å£ï¼Œå¿ƒè·³å¦‚é›·â€¦â€¦</div>
  <div id="options"></div>

  <script>
    let stats = {
      mood: 80,
      courage: 60,
      bj: 0,
      gbc: 0,
      sm: 0
    };

    const scenes = {
      chapter1: {
        text: "ç¬¬ä¸€ç«  Â· å…¥å­¦æ—¥\nä½ ç«™åœ¨æ ¡é—¨å£ï¼Œç©¿ç€åˆšä¹°çš„æ–°æ ¡æœï¼Œç”·ç”Ÿåˆ¶æœä¸å¤ªåˆèº«ï¼Œä½†ä½ åŠªåŠ›æŒºç›´è…°èƒŒã€‚èº«è¾¹åŒå­¦é™†ç»­è¿›æ ¡â€”â€”ä½ å¿…é¡»é©¬ä¸Šé€‚åº”æ–°ç”Ÿæ´»ã€‚",
        options: [
          { text: "å‡è£…é•‡å®šï¼Œä½å¤´å¿«æ­¥èµ°è¿›æ ¡é—¨", next: "chapter2", mood: -5, courage: +5 },
          { text: "å¤§æ–¹æ‰“æ‹›å‘¼ï¼Œå±•ç¤ºè‡ªä¿¡ä¸€é¢", next: "chapter2", mood: +5, courage: +10 }
        ]
      },
      chapter2: {
        text: "ç¬¬äºŒç«  Â· å¯å®¤ç›¸é‡\nä½ è¢«åˆ†åˆ°Aæ ‹402å®¿èˆï¼Œæ¨é—¨è€Œå…¥ï¼Œä¸‰ä½æ€§æ ¼è¿¥å¼‚çš„ç”·ç”Ÿæ­£å¥½åŒæ—¶çœ‹å‘ä½ â€”â€”ç™½æ™¯ååœ¨çª—è¾¹çœ‹ä¹¦ï¼Œé¡¾åŒ—è¾°åœ¨åºŠä¸Šæ‰“çƒï¼Œæ²ˆå¢¨é å¢™æ·¡æ·¡çœ‹ç€ä½ ã€‚",
        options: [
          { text: "ä¸»åŠ¨å‘ç™½æ™¯ä»‹ç»è‡ªå·±", next: "bj1", bj: +10 },
          { text: "å¯¹é¡¾åŒ—è¾°æ‰“è¶£ä¸€å¥", next: "gbc1", gbc: +10 },
          { text: "ä¸æ²ˆå¢¨ä¿æŒæ²‰é»˜ç‚¹å¤´ç¤ºæ„", next: "sm1", sm: +10 }
        ]
      },
      bj1: {
        text: "ç™½æ™¯è½»è½»ç‚¹å¤´ï¼Œæ²¡æœ‰å›åº”å¤ªå¤šï¼Œä½†ç›®å…‰åœ¨ä½ èº«ä¸Šåœç•™äº†å‡ ç§’ã€‚",
        options: [{ text: "ç»§ç»­", next: "chapter3" }]
      },
      gbc1: {
        text: "â€œæ‰“å¾—ä¸é”™ã€‚â€ä½ ç¬‘ç€è¯´ã€‚é¡¾åŒ—è¾°çœ¨çœ¨çœ¼ï¼šâ€œä½ ä¹Ÿçˆ±ç¯®çƒï¼Ÿæ¥åœºï¼Ÿâ€",
        options: [{ text: "ç»§ç»­", next: "chapter3" }]
      },
      sm1: {
        text: "æ²ˆå¢¨è¯­æ°”å¹³é™ï¼šâ€œä½ æ˜¯æ–°å®¤å‹ï¼Ÿâ€ä»–æ²¡å¤šé—®ï¼Œå´ä¹Ÿæ²¡æœ‰ç–è¿œã€‚",
        options: [{ text: "ç»§ç»­", next: "chapter3" }]
      },
      chapter3: {
        text: "ç¬¬ä¸‰ç«  Â· å†›è®­è¯•ç‚¼\nå¼€å­¦ç¬¬ä¸‰å¤©ï¼Œä½ ç«™åœ¨æ“åœºï¼Œé˜³å…‰ç‚™çƒ¤ã€‚ä½“åŠ›é€æ¸ä¸‹é™ï¼Œä½ æ„Ÿåˆ°å¤©æ—‹åœ°è½¬â€”â€”",
        options: [
          { text: "åšæŒå’¬ç‰™ä¸å€’ä¸‹", next: "endurance", courage: +10 },
          { text: "å·å·é€€å‡ºæ’é˜Ÿå»ä¼‘æ¯", next: "retreat", mood: +5 }
        ]
      },
      endurance: {
        text: "ä½ å’¬ç‰™ç«™ç¨³ï¼Œé¡¾åŒ—è¾°èµ°è¿‡æ¥é€’ç»™ä½ ä¸€ç“¶æ°´ï¼šâ€œå¯ä»¥å•Šä½ ï¼Œæ’‘å¾—æŒºä¹…ã€‚â€",
        options: []
      },
      retreat: {
        text: "ä½ ååœ¨æ ‘è«ä¸‹ï¼Œæ²ˆå¢¨é»˜é»˜é€’æ¥çº¸å·¾ï¼šâ€œåˆ«é€å¼ºã€‚â€ç™½æ™¯ç«™åœ¨è¿œå¤„çœ‹äº†ä½ ä¸€çœ¼ã€‚",
        options: []
      }
    };

    let current = "chapter1";

    function renderScene(key) {
      current = key;
      const s = scenes[key];
      document.getElementById("story").innerText = s.text.replace(/\n/g, "\n");
      const opts = document.getElementById("options");
      opts.innerHTML = "";
      (s.options || []).forEach(opt => {
        const btn = document.createElement("div");
        btn.className = "option";
        btn.innerText = opt.text;
        btn.onclick = () => {
          for (let key in opt) {
            if (stats[key] !== undefined) stats[key] += opt[key];
          }
          renderScene(opt.next);
        };
        opts.appendChild(btn);
      });
      updateStatus();
    }

    function updateStatus() {
      document.getElementById("mood").innerText = stats.mood;
      document.getElementById("courage").innerText = stats.courage;
      document.getElementById("bj").innerText = stats.bj;
      document.getElementById("gbc").innerText = stats.gbc;
      document.getElementById("sm").innerText = stats.sm;
    }

    renderScene(current);
  </script>
</body>
</html>

<!-- è¿½åŠ åœºæ™¯åˆ°ç°æœ‰ HTML ä¸­çš„ <script> ç»“æ„é‡Œ -->

<script>
  // ...ï¼ˆçœç•¥å‰3ç« å®šä¹‰ï¼‰...

  scenes.chapter4 = {
    text: "ç¬¬å››ç«  Â· ç¤¾å›¢æ‹›æ–°\nä½ è¢«ä¸‰ä½ç”·ç”Ÿåˆ†åˆ«é‚€è¯·è¿›å…¥ä¸åŒç¤¾å›¢â€”â€”",
    options: [
      { text: "åŠ å…¥æ‘„å½±ç¤¾ï¼ˆç™½æ™¯ï¼‰", next: "photo_club", bj: +10 },
      { text: "åŠ å…¥ç¯®çƒé˜Ÿï¼ˆé¡¾åŒ—è¾°ï¼‰", next: "basketball_team", gbc: +10 },
      { text: "åŠ å…¥ç¾æœ¯ç¤¾ï¼ˆæ²ˆå¢¨ï¼‰", next: "art_club", sm: +10 }
    ]
  };

  scenes.photo_club = {
    text: "ä½ è·Ÿç€ç™½æ™¯èµ°è¿›æ‘„å½±ç¤¾ï¼Œä»–äº²æ‰‹æ•™ä½ è°ƒç„¦ï¼šâ€œä¸å…‰æ˜¯é•œå¤´ï¼Œçœ¼ç›ä¹Ÿè¦è§‚å¯Ÿäººã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter5" }]
  };

  scenes.basketball_team = {
    text: "çƒåœºä¸Šä½ è·Ÿç€é¡¾åŒ—è¾°ç»ƒä¹ ä¼ çƒï¼Œä»–ç¬‘ç€è¯´ï¼šâ€œä½ è¿˜æŒºèƒ½è·‘çš„å•Šï¼â€",
    options: [{ text: "ç»§ç»­", next: "chapter5" }]
  };

  scenes.art_club = {
    text: "ä½ é™é™çœ‹ç€æ²ˆå¢¨åœ¨ç”»æ¿ä¸ŠæŒ¥ç¬”ï¼Œä»–é€’ç»™ä½ ä¸€å¼ é€Ÿå†™ï¼šâ€œè¿™æ˜¯ä½ çš„ä¾§è„¸ã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter5" }]
  };

  scenes.chapter5 = {
    text: "ç¬¬äº”ç«  Â· æ„å¤–ç‹¬å¤„\nç¤¾å›¢ç»“æŸåï¼Œä½ è¢«è§’è‰²ç•™ä¸‹ï¼Œå±•å¼€ä¸€æ®µåªå±äºä½ ä»¬çš„å¯¹è¯â€”â€”",
    options: [
      { text: "å›åº”ç™½æ™¯ï¼šâ€œä½ å¾ˆæ¸©æŸ”ã€‚â€", next: "bj_deep", bj: +10 },
      { text: "å‘é¡¾åŒ—è¾°å¤¸èµï¼šâ€œä½ å¾ˆæœ‰è¶£ã€‚â€", next: "gbc_deep", gbc: +10 },
      { text: "æ„Ÿè°¢æ²ˆå¢¨ï¼šâ€œæˆ‘å¾ˆå–œæ¬¢è¿™å¹…ç”»ã€‚â€", next: "sm_deep", sm: +10 }
    ]
  };

  scenes.bj_deep = {
    text: "ç™½æ™¯å¾®å¾®ä¸€æ„£ï¼šâ€œæˆ‘â€¦â€¦ä¸æ˜¯ä¸€ç›´éƒ½è¿™æ ·ã€‚â€ä»–çš„å£°éŸ³å‹å¾—å¾ˆä½ã€‚",
    options: [{ text: "ç»§ç»­", next: "chapter6" }]
  };

  scenes.gbc_deep = {
    text: "é¡¾åŒ—è¾°æ‰¬çœ‰ä¸€ç¬‘ï¼šâ€œä½ ä¹Ÿæ˜¯æˆ‘è§è¿‡æœ€ä¸æ™®é€šçš„äººã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter6" }]
  };

  scenes.sm_deep = {
    text: "æ²ˆå¢¨è½»å£°è¯´ï¼šâ€œä½ ç¬‘èµ·æ¥ï¼Œæ¯”ç”»å¥½çœ‹ã€‚â€ä»–ä½å¤´é¿å¼€ä½ çš„çœ¼ç¥ã€‚",
    options: [{ text: "ç»§ç»­", next: "chapter6" }]
  };

  scenes.chapter6 = {
    text: "ç¬¬å…­ç«  Â· æ ¡å›­å±æœº\nä½ ä¸å°å¿ƒä¸¢äº†é‡è¦è¯ä»¶ï¼Œé™·å…¥ç„¦è™‘ã€‚ä½ ä¼šâ€”â€”",
    options: [
      { text: "ä¸»åŠ¨å»æ‰¾ç™½æ™¯æ±‚åŠ©", next: "bj_help", bj: +5 },
      { text: "å‘é¡¾åŒ—è¾°å¤§å£°æ±‚æ´", next: "gbc_help", gbc: +5 },
      { text: "ä¸å‡ºå£°ï¼Œç­‰å¾…æ²ˆå¢¨å¯Ÿè§‰", next: "sm_help", sm: +5 }
    ]
  };

  scenes.bj_help = {
    text: "ç™½æ™¯å†·é™åˆ†æè·¯å¾„ï¼Œé™ªä½ ä¸€é—´é—´æ‰¾ï¼šâ€œåˆ«æ€•ï¼Œæˆ‘åœ¨ã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter7" }]
  };

  scenes.gbc_help = {
    text: "é¡¾åŒ—è¾°ç«‹åˆ»å†²å‡ºå»è·‘éå…¨æ ¡ï¼šâ€œä¸€å®šèƒ½æ‰¾åˆ°ï¼ä½ åˆ«æ€¥å•Šï¼â€",
    options: [{ text: "ç»§ç»­", next: "chapter7" }]
  };

  scenes.sm_help = {
    text: "æ²ˆå¢¨çœ‹å‡ºä½ å¤±è½ï¼Œä»€ä¹ˆéƒ½æ²¡é—®å°±é€’æ¥è¯ä»¶ï¼šâ€œæˆ‘æ¡åˆ°çš„ï¼Œåˆšåˆšã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter7" }]
  };
</script>

<script>
  scenes.chapter7 = {
    text: "ç¬¬ä¸ƒç«  Â· æ ¡å¤–æ¸¸\nå­¦é™¢ç»„ç»‡éƒŠæ¸¸æ´»åŠ¨ï¼Œé˜³å…‰æ˜åªšï¼Œä½ å°†ä¸è°ç»“ä¼´åŒè¡Œï¼Ÿ",
    options: [
      { text: "ä¸ç™½æ™¯åŒè¡Œ", next: "trip_bj", bj: +10 },
      { text: "ä¸é¡¾åŒ—è¾°ä¸€èµ·", next: "trip_gbc", gbc: +10 },
      { text: "é€‰æ‹©æ²ˆå¢¨", next: "trip_sm", sm: +10 }
    ]
  };

  scenes.trip_bj = {
    text: "ç™½æ™¯é»˜é»˜æ›¿ä½ æåŒ…ï¼Œèµ°åœ¨ä½ èº«ä¾§ï¼šâ€œæˆ‘ä¸ä¹ æƒ¯äººå¤šï¼Œä½†â€¦â€¦å’Œä½ ä¸€èµ·ï¼Œä¸é”™ã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter8" }]
  };
  scenes.trip_gbc = {
    text: "é¡¾åŒ—è¾°æ‹ç…§ã€æŠ“è™«ã€ç¬‘å£°ä¸æ–­ï¼šâ€œè·Ÿä½ ç©çœŸè½»æ¾ï¼â€",
    options: [{ text: "ç»§ç»­", next: "chapter8" }]
  };
  scenes.trip_sm = {
    text: "æ²ˆå¢¨ç»™ä½ ç”»äº†ä¸€å¼ å±±æ™¯é€Ÿå†™ï¼šâ€œè¿™åœ°æ–¹åƒä½ ï¼Œé™é™çš„ï¼Œä½†è®©äººå–œæ¬¢ã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter8" }]
  };

  scenes.chapter8 = {
    text: "ç¬¬å…«ç«  Â· èº«ä»½æš´éœ²\nä¸€æ¬¡æ´—è¡£æ—¶ï¼Œä½ è—å¥½çš„å‡èº«ä»½è¯æ‰å‡ºï¼Œè¢«ä¸‰äººä¹‹ä¸€å‘ç°ï¼Œä½ çš„ç§˜å¯†æš´éœ²äº†ï¼",
    options: [
      { text: "è¢«ç™½æ™¯çœ‹åˆ°", next: "reveal_bj" },
      { text: "è¢«é¡¾åŒ—è¾°çœ‹åˆ°", next: "reveal_gbc" },
      { text: "è¢«æ²ˆå¢¨çœ‹åˆ°", next: "reveal_sm" }
    ]
  };

  scenes.reveal_bj = {
    text: "ç™½æ™¯æ²‰é»˜å¾ˆä¹…æ‰é—®ï¼šâ€œä¸ºä»€ä¹ˆâ€¦â€¦è¦è¿™æ ·åšï¼Ÿâ€ä»–çš„å£°éŸ³æœ‰ç‚¹é¢¤ã€‚",
    options: [{ text: "ç»§ç»­", next: "chapter9" }]
  };
  scenes.reveal_gbc = {
    text: "é¡¾åŒ—è¾°ç›®çªå£å‘†ï¼šâ€œä½ æ˜¯â€¦â€¦å¥³ç”Ÿï¼Ÿæˆ‘å±…ç„¶ä¸€ç‚¹æ²¡å‘ç°â€¦â€¦â€",
    options: [{ text: "ç»§ç»­", next: "chapter9" }]
  };
  scenes.reveal_sm = {
    text: "æ²ˆå¢¨ä½å¤´ç¬‘äº†ç¬‘ï¼šâ€œæˆ‘æ—©å°±çŒœåˆ°ï¼Œåªæ˜¯æ²¡è¯´ã€‚â€",
    options: [{ text: "ç»§ç»­", next: "chapter9" }]
  };

  scenes.chapter9 = {
    text: "ç¬¬ä¹ç«  Â· æƒ…ç»ªä½è°·\nä½ è§‰å¾—è‡ªå·±æ— æ³•å†é¢å¯¹ä»–ä»¬ï¼Œå‡†å¤‡æ”¶æ‹¾ä¸œè¥¿ç¦»å¼€ã€‚",
    options: [
      { text: "ç™½æ™¯ç«™åœ¨é—¨å£ï¼šâ€œåˆ«èº²äº†ï¼Œæˆ‘åœ¨è¿™é‡Œã€‚â€", next: "comfort_bj", bj: +10 },
      { text: "é¡¾åŒ—è¾°è¿½åˆ°æ¥¼ä¸‹ï¼šâ€œä½ èµ°ï¼Œæˆ‘ä¼šéš¾è¿‡çš„ã€‚â€", next: "comfort_gbc", gbc: +10 },
      { text: "æ²ˆå¢¨åœ¨åºŠå¤´æ”¾ä¸‹ä¸€å¹…ç”»ï¼šâ€œè¿™æ˜¯æˆ‘ç”»çš„ä½ ï¼Œä¸è®¸èµ°ã€‚â€", next: "comfort_sm", sm: +10 }
    ]
  };

  scenes.comfort_bj = {
    text: "ä½ æœ›ç€ç™½æ™¯åšå®šçš„çœ¼ç¥ï¼Œçœ¼æ³ªç»ˆäºè½ä¸‹ã€‚",
    options: [{ text: "ç»§ç»­", next: "chapter10" }]
  };
  scenes.comfort_gbc = {
    text: "ä½ å¬åˆ°é¡¾åŒ—è¾°çš„å£°éŸ³å¿ä¸ä½å“­å‡ºæ¥ï¼Œä»–æŠŠä½ æŠ±å¾—ç´§ç´§çš„ã€‚",
    options: [{ text: "ç»§ç»­", next: "chapter10" }]
  };
  scenes.comfort_sm = {
    text: "ä½ çœ‹åˆ°é‚£å¹…ç”»ï¼Œä»¿ä½›æœ‰äººçœŸæ­£ç†è§£ä½ ï¼Œä½ çš„å¿ƒå¼€å§‹è½¯ä¸‹æ¥ã€‚",
    options: [{ text: "ç»§ç»­", next: "chapter10" }]
  };

  scenes.chapter10 = {
    text: "ç¬¬åç«  Â· ç»“å±€æŠ‰æ‹©\nä½ ç»ˆäºåšå‡ºå†³å®šâ€”â€”è¦å‘Šè¯‰è°ä½ çš„çœŸå¿ƒï¼Ÿ",
    options: [
      { text: "é€‰æ‹©ç™½æ™¯", next: "ending_bj" },
      { text: "é€‰æ‹©é¡¾åŒ—è¾°", next: "ending_gbc" },
      { text: "é€‰æ‹©æ²ˆå¢¨", next: "ending_sm" }
    ]
  };

  scenes.ending_bj = {
    text: "ç™½æ™¯è½»è½»æ‹‰ä½ä½ çš„æ‰‹ï¼šâ€œæˆ‘ä»¬ä¸€èµ·é¢å¯¹ä¸–ç•Œï¼Œåˆ«æ€•ã€‚â€",
    options: []
  };
  scenes.ending_gbc = {
    text: "é¡¾åŒ—è¾°ä¸¾èµ·ä½ ä»¬çš„åˆç…§ï¼šâ€œä»¥åï¼Œæˆ‘ä»¬ç»§ç»­ä¸€èµ·èƒ¡é—¹ã€‚â€",
    options: []
  };
  scenes.ending_sm = {
    text: "æ²ˆå¢¨ç”¨æœ€æŸ”çš„å£°éŸ³è¯´ï¼šâ€œæˆ‘ç¬”ä¸‹çš„ä½ ï¼Œç»ˆäºå±äºæˆ‘äº†ã€‚â€",
    options: []
  };
</script>
