
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å¥³æ‰®ç”·è£…æ··å…¥ç”·å¯ Â· æ‰©å±•æµ‹è¯•ç‰ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body { font-family: 'å¾®è½¯é›…é»‘'; background: #f6f8fb; padding: 20px; }
    .status-bar { background: #dfefff; padding: 10px; border-radius: 8px; margin-bottom: 10px; cursor: pointer; }
    .story { margin-bottom: 20px; }
    .option { background: #e0f0ff; margin: 8px 0; padding: 10px; border-radius: 6px; cursor: pointer; }
    .option:hover { background: #cfe6ff; }
    .modal, .overlay {
      display: none; position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
    }
    .overlay { background: rgba(0,0,0,0.5); z-index: 5; }
    .modal {
      background: #fff; margin: 10% auto; width: 90%; max-width: 400px; padding: 20px;
      z-index: 10; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .portrait { width: 100px; float: right; margin-left: 10px; border-radius: 10px; }
    #extraBtn { display: none; margin-top: 12px; padding: 10px; background: #ffefc2; border-radius: 6px; text-align: center; cursor: pointer; }
  </style>
</head>
<body>
  <h2>ã€Šå¥³æ‰®ç”·è£…æ··å…¥ç”·å¯ã€‹ Â· v6 æ‰©å±•æµ‹è¯•</h2>

  <div class="status-bar" onclick="showCharacterInfo()">
    â¤ï¸ å¿ƒæƒ…: <span id="mood">80</span> ï½œ ğŸ’ª å‹‡æ°”: <span id="courage">60</span>ï½œ
    ğŸ’– ç™½æ™¯: <span id="bj">0</span> ï½œ ğŸ”¥ é¡¾åŒ—è¾°: <span id="gbc">0</span> ï½œ ğŸ¨ æ²ˆå¢¨: <span id="sm">0</span>
  </div>

  <div id="story">ä½ ç«™åœ¨ç¤¼å ‚é—¨å£ï¼Œæ¯•ä¸šå…¸ç¤¼å³å°†å¼€å§‹ã€‚</div>
  <div id="options"></div>

  <div id="extraBtn" onclick="showExtra()">ğŸ“– å·²è§£é”ç•ªå¤–ï¼šç‚¹å‡»è¿›å…¥</div>

  <div class="overlay" id="overlay" onclick="hideAll()"></div>

  <div class="modal" id="charModal">
    <h3>è§’è‰²ä¿¡æ¯</h3>
    <img class="portrait" src="https://via.placeholder.com/100x150.png?text=ç™½æ™¯" />
    <p><strong>ç™½æ™¯ï¼š</strong>å†·é™å¯¡è¨€ï¼Œå¤–è¡¨å…‹åˆ¶ä½†æå…¶ç»†è…»ã€‚</p>
    <p>å½“å‰å¥½æ„Ÿå€¼ï¼š<span id="valBJ">0</span></p>
    <p>è¯­å½•ï¼šâ€œæˆ‘ä¸è¯´ï¼Œå¹¶ä¸ä»£è¡¨æˆ‘ä¸åœ¨æ„ã€‚â€</p>
  </div>

  <div class="modal" id="extraModal">
    <h3>ğŸ“– ç•ªå¤– Â· ç™½æ™¯ Â· å›å¿†ä¹‹å…‰</h3>
    <p>â€œè¿˜è®°å¾—é‚£ä¸ªå¤å¤©ï¼Œä½ ç¬¬ä¸€æ¬¡å†²æˆ‘ç¬‘çš„æ—¶å€™ã€‚â€</p>
    <p>ç™½æ™¯æ¨å¼€çª—ï¼Œé˜³å…‰æ­£å¥½ï¼šâ€œä»é‚£å¤©èµ·ï¼Œæˆ‘å°±å†æ²¡ç§»å¼€è¿‡ç›®å…‰ã€‚â€</p>
  </div>

  <script>
    let stats = { mood: 80, courage: 60, bj: 100, gbc: 0, sm: 0 };
    let unlocked = false;

    function updateStatus() {
      document.getElementById("mood").innerText = stats.mood;
      document.getElementById("courage").innerText = stats.courage;
      document.getElementById("bj").innerText = stats.bj;
      document.getElementById("gbc").innerText = stats.gbc;
      document.getElementById("sm").innerText = stats.sm;
    }

    const scenes = {
      ending_bj: {
        text: "ç™½æ™¯è½»è½»æ‹‰ä½ä½ çš„æ‰‹ï¼šâ€œæˆ‘ä»¬ä¸€èµ·é¢å¯¹ä¸–ç•Œï¼Œåˆ«æ€•ã€‚â€",
        options: [{ text: "ã€è§£é”ç•ªå¤–ã€‘", next: "unlock_extra" }]
      },
      unlock_extra: {
        text: "ä½ å·²æˆåŠŸè§£é”ç™½æ™¯ç»“å±€ç•ªå¤–ã€‚",
        options: [{ text: "è¿”å›", next: "ending_bj" }]
      }
    };

    function renderScene(key) {
      const scene = scenes[key];
      document.getElementById("story").innerText = scene.text;
      const opt = document.getElementById("options");
      opt.innerHTML = '';
      scene.options.forEach(o => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerText = o.text;
        div.onclick = () => {
          if (key === "ending_bj") {
            stats.bj = 100; // è‡ªåŠ¨æ»¡å¥½æ„Ÿ
          }
          if (o.next === "unlock_extra") {
            unlocked = true;
            document.getElementById("extraBtn").style.display = "block";
          }
          renderScene(o.next);
        };
        opt.appendChild(div);
      });
      updateStatus();
    }

    function showCharacterInfo() {
      document.getElementById("overlay").style.display = "block";
      document.getElementById("charModal").style.display = "block";
      document.getElementById("valBJ").innerText = stats.bj;
    }

    function showExtra() {
      document.getElementById("overlay").style.display = "block";
      document.getElementById("extraModal").style.display = "block";
    }

    function hideAll() {
      document.getElementById("overlay").style.display = "none";
      document.querySelectorAll(".modal").forEach(m => m.style.display = "none");
    }

    updateStatus();
    renderScene("ending_bj");
  </script>
</body>
</html>
