
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>å¥³æ‰®ç”·è£…æ··å…¥ç”·å¯ Â· æ¸¸æˆå¼€å§‹</title>
  <style>
    body { font-family: "Microsoft YaHei", sans-serif; margin: 0; background: #f9f9f9; color: #333; }
    .container { max-width: 480px; margin: auto; padding: 16px; background: #fff; min-height: 100vh; box-sizing: border-box; }
    .status-bar { background: #eef6ff; padding: 8px; border-radius: 6px; font-size: 14px; margin-bottom: 12px; text-align: center; }
    .story { font-size: 16px; line-height: 1.6; white-space: pre-line; }
    .option { background: #e1f0fa; padding: 12px; border-radius: 6px; margin: 10px 0; text-align: center; cursor: pointer; }
  </style>
</head>
<body>
  <div class="container">
    <h2 style="text-align:center; color:#5d9cec;">å¥³æ‰®ç”·è£…æ··å…¥ç”·å¯</h2>
    <div class="status-bar">
      â¤ï¸ å¿ƒæƒ…: <span id="mood">80</span> ï½œ ğŸ’ª å‹‡æ°”: <span id="courage">60</span><br>
      ğŸ’– ç™½æ™¯: <span id="bj">50</span> ï½œğŸ”¥ é¡¾åŒ—è¾°: <span id="gbc">40</span> ï½œğŸ¨ æ²ˆå¢¨: <span id="sm">30</span>
    </div>
    <div class="story" id="story">æ¸¸æˆåŠ è½½ä¸­â€¦â€¦</div>
    <div id="options"></div>
  </div>

  <script>
    const state = {
      mood: 80,
      courage: 60,
      affection: { "ç™½æ™¯": 50, "é¡¾åŒ—è¾°": 40, "æ²ˆå¢¨": 30 },
      currentScene: "start"
    };

    const scenes = {
      start: {
        text: "ä½ æ‹–ç€è¡Œæç®±ç«™åœ¨åœ£ç½—å…°è´µæ—å­¦é™¢é—¨å£â€¦â€¦\n\nâ€œæˆ‘çœŸçš„è¦å¥³æ‰®ç”·è£…æ··è¿›ç”·å¯å—ï¼Ÿâ€",
        options: [
          { text: "æ¨é—¨è¿›å…¥303å¯å®¤", next: "firstNight" }
        ]
      },
      firstNight: {
        text: "å®¿èˆç¯å…‰æ˜é»„ï¼Œå››ä¸ªç”·ç”Ÿå›å¤´æœ›å‘ä½ ã€‚\n\nâ€œæ–°å®¤å‹ï¼Ÿâ€\n\nç™½æ™¯æœä½ å¾®ç¬‘ã€‚",
        options: [
          { text: "æ‰“æ‹›å‘¼å¹¶å¿«é€Ÿæ•´ç†åºŠé“º", next: "end", effect: { "ç™½æ™¯": 10, "mood": 5 } },
          { text: "å‡è£…å†·æ·¡ç‚¹å¤´", next: "end", effect: { "æ²ˆå¢¨": 5, "courage": -5 } }
        ]
      },
      end: {
        text: "âœ¨ å‰§æƒ…ä½“éªŒç»“æŸï¼Œå®Œæ•´ç‰ˆæ­£åœ¨å¼€å‘ä¸­â€¦â€¦",
        options: []
      }
    };

    function updateStatus() {
      document.getElementById("mood").innerText = state.mood;
      document.getElementById("courage").innerText = state.courage;
      document.getElementById("bj").innerText = state.affection["ç™½æ™¯"];
      document.getElementById("gbc").innerText = state.affection["é¡¾åŒ—è¾°"];
      document.getElementById("sm").innerText = state.affection["æ²ˆå¢¨"];
    }

    function renderScene(key) {
      const scene = scenes[key];
      state.currentScene = key;
      document.getElementById("story").innerText = scene.text;
      const optArea = document.getElementById("options");
      optArea.innerHTML = "";
      scene.options.forEach(opt => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerText = opt.text;
        div.onclick = () => {
          if (opt.effect) {
            for (let k in opt.effect) {
              if (state[k] !== undefined) state[k] += opt.effect[k];
              if (state.affection[k] !== undefined) state.affection[k] += opt.effect[k];
            }
          }
          updateStatus();
          renderScene(opt.next);
        };
        optArea.appendChild(div);
      });
    }

    updateStatus();
    renderScene(state.currentScene);
  </script>
</body>
</html>
